name: Auto Create Pull Request

on:
  push:
    branches-ignore:
      - main

permissions:
  contents: read
  pull-requests: write

jobs:
  create-pr:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Create Pull Request
        uses: repo-sync/pull-request@v2
        with:
          github_token: ${{ secrets.PAT_TOKEN }}
          source_branch: ${{ github.ref_name }}
          destination_branch: main
          pr_title: "ðŸš€ ${{ github.ref_name }} â†’ main"
          pr_body: |
            ## ðŸ¤– Pull Request AutomÃ¡tico
            
            Esta PR foi criada automaticamente a partir do push na branch `${{ github.ref_name }}`.
            
            ### ðŸ“‹ InformaÃ§Ãµes
            - **Branch de origem**: `${{ github.ref_name }}`
            - **Branch de destino**: `main`
            - **Ãšltimo commit**: ${{ github.sha }}
            - **Autor**: @${{ github.actor }}
            
            ### âœ… Checklist
            - [ ] CÃ³digo revisado
            - [ ] Testes passando
            - [ ] SonarCloud validado
            
            Por favor, revise as mudanÃ§as antes de fazer o merge.

